---
import { Checkbox } from "@/components/ui/checkbox";
import { Button } from "@/components/ui/button";
import { Image } from "astro:assets";
import promoImage from "@/assets/promo-materials/promo-with-gradient.png";

import type { preparedData} from "@/types/prepared-data";
import { PricePlan } from "@/components/PricePlan";

interface Props {
	contentData: preparedData
}

const { contentData } = Astro.props;
---

<div class="container px-4 mx-auto">
	<h1 class="font-['Rubik'] uppercase font-bold text-[24px]/[26px] lg:text-[40px]/[42px] mt-5 lg:mt-7 mb-5 lg:mb-24 sm:text-center">Выберите подходящий тарифный план</h1>
	<div class="flex flex-col justify-center gap-x-20 lg:flex-row">
		<div class="mx-auto w-[280px] lg:w-[434px] lg:mx-0">
			<Image
					class="h-[441px] w-[277px] md:h-auto md:w-auto"
					src={promoImage}
					alt="Промо изображение накаченного мужчины"
			/>
		</div>
		<div class="flex flex-col lg:w-[684px]">
			<PricePlan client:load data={contentData} />
			<p class="text-sm md:text-lg mb-[26px] font-medium">Следуя плану на 3 месяца, люди получают в 2 раза лучший результат, чем за 1 месяц</p>
			<div class="mb-[50px] flex items-center">
				<Checkbox id="terms" client:load className="mr-2" />
				<label for="terms" class="text-[#818798] cursor-pointer">Я соглашаюсь с <a href="#">Правилами сервиса</a> и условиями <a href="#">Публичной оферты</a>.</label>
			</div>
			<Button
			  id="submit-button"
				className="w-[281px] h-[76px] rounded-[60px] bg-[#FD4D35] font-['Rubik'] uppercase font-medium text-xl mb-[30px] will-change-transform"
			>Купить</Button>
			<p class="text-sm text-[#818798] mb-6">Нажимая «Купить», Пользователь соглашается на автоматическое списание денежных средств по истечению купленного периода. Дальнейшие списания по тарифам участвующим в акции осуществляются по полной стоимости согласно оферте.</p>
		</div>
	</div>
</div>

{/* GSAP animations */}
<script>
	const btn = document.querySelector("#submit-button");
	const scaleTween = gsap.to(btn, {
		repeat: -1,
		scale: 1.1,
		duration: 0.5,
		yoyo: true,
		ease: "sine"
	});

	btn.addEventListener("mouseenter", () => scaleTween.pause());
	btn.addEventListener("mouseleave", ()=> scaleTween.restart());
</script>